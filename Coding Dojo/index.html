<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="clicker.css">
    <title>Tama Clicker</title>
</head>
<body onload="startTime()">
<form onsubmit="return false">
</form>
    <div>
        <div class="enter">
            <div>
                <p>Player Name : <input type="text" name="name" size="25" id="myName"></p>
            </div>
            <div>
                <div id="txt"></div>
                <label id="minutes">00</label>:<label id="seconds">00</label>
            </div>
        </div>
        <div>
            <input type="submit" value="Begin" onclick="Begin()">
            <input type="submit" value="Recommencer" onclick="">
        </div>
        <p id="check">...</p>
    </div>
    <div class="tamago">
        <div>
            <img class="tama" id="tama" src="img/tama.png">
        </div>
        <div>
            <p id="money">0</p>
        </div>
    </div>
    <div>
        <p id="prestige">Prestige Level 0</p>
    </div>
    <div id="upgrades">
        <button onclick="buyMod(0)" id="butAdd">Additioners [30]</button>
        <button onclick="buyMod(1)" id="butMult">Multiplicators [80]</button>
        <button onclick="buyMod(2)" id="butAutoTime1">Auto-clicker Timer Rank.1 [100]</button>
        <button onclick="buyMod(3)" id="butAutoTime2">Auto-Clicker Timer Rank.2 [300]</button>
        <button onclick="buyMod(4)" id="butAutoTime3">Auto-Clicker Timer Rank.3 [700]</button>
        <button onclick="buyMod(5)" id="butAutoAmount1">Auto-clicker Bonus Rank.1 [100]</button>
        <button onclick="buyMod(6)" id="butAutoAmount2">Auto-Clicker Bonus Rank.2 [300]</button>
        <button onclick="buyMod(7)" id="butAutoAmount3">Auto-Clicker Bonus Rank.3 [700]</button>
    </div>
</div>
<footer>
    <div>
        <p>Coding Dojo > Clicker by Jimmy L., Anthony B., Clément N., Axel P.</p>
    </div>
</footer>
</body>
<script>
	const delayMult = 0.8;
    var click = 1;
    var multipre = 1;
    var score = 0;
    var money = 0;
    var achiev = [];
    var pre = 0;
    var add = 1;
    var mult = 1;
    var priceAdd = 30;
    var priceMult = 80;
    var priceAutoClicTimer1 = 100;
    var priceAutoClicTimer2 = 300;
    var priceAutoClicTimer3 = 700;
    var priceAutoClicAmount1 = 100;
    var priceAutoClicAmount2 = 300;
    var priceAutoClicAmount3 = 700;

    function buyMod(choice) {

    	switch (choice) {
    		case 0:
    			if (money >= priceAdd) {
    				money -= priceAdd;
    				add++;
    				priceAdd++;
    				document.getElementById("butAdd").innerHTML = "Additioners [" + priceAdd + "]";
    			}
    			else
    				console.log("Tu n'as pas assez de BARREL ROLL");
    			break;
    		case 1:
    			if (money >= priceMult) {
    				money -= priceMult;
    				add *= 1.5;
    				priceMult += 10;
    				document.getElementById("butMult").innerHTML = "Multiplicators [" + priceMult + "]";
    			}
    			else
    				console.log("Tu n'as pas assez de SAUCISSE");
    			break;
    		case 2:
    			if (money >= priceAutoClicTimer1) {
    				money -= priceAutoClicTimer1;
    				autoClicker[0].timer *= delayMult;
    				resetAutoClicker(0);
    				priceAutoClicTimer1 *= 2;
    				document.getElementById("butAutoTime1").innerHTML = "Auto-clicker Timer Rank.1 [" + priceAutoClicTimer1 + "]";
				}
    			else
    				console.log("Tu n'as pas assez de BDZHUGDIJ");
    			break;
    		case 3:
    			if (money >= priceAutoClicTimer2) {
    				money -= priceAutoClicTimer2;
    				autoClicker[1].timer *= delayMult;
    				resetAutoClicker(1);
    				priceAutoClicTimer2 *= 2;
    				document.getElementById("butAutoTime2").innerHTML = "Auto-clicker Timer Rank.2 [" + priceAutoClicTimer2 + "]";
    			}
    			else
    				console.log("Tu n'as pas assez de SCHNAPS");
    			break;
    		case 4:
    			if (money >= priceAutoClicTimer3) {
    				money -= priceAutoClicTimer3;
    				autoClicker[2].timer *= delayMult;
    				resetAutoClicker(2);
    				priceAutoClicTimer3 *= 2;
    				document.getElementById("butAutoTime3").innerHTML = "Auto-clicker Timer Rank.3 [" + priceAutoClicTimer3 + "]";
    			}
    			else
    				console.log("Croustipute !");
    			break;
    		case 5:
    			if (money >= priceAutoClicAmount1) {
    				money -= priceAutoClicAmount1;
    				autoClicker[0].amount += 5;
    				priceAutoClicAmount1 *= 2;
    				document.getElementById("butAutoAmount1").innerHTML = "Auto-clicker Timer Rank.1 [" + priceAutoClicAmount1 + "]";
				}
    			else
    				console.log("Tu n'as pas assez de BDZHUGDIJ");
    			break;
    		case 6:
    			if (money >= priceAutoClicAmount2) {
    				money -= priceAutoClicAmount2;
    				autoClicker[1].amount += 20;
    				priceAutoClicAmount2 *= 2;
    				document.getElementById("butAutoAmount2").innerHTML = "Auto-clicker Timer Rank.2 [" + priceAutoClicAmount2 + "]";
    			}
    			else
    				console.log("Tu n'as pas assez de SCHNAPS");
    			break;
    		case 7:
    			if (money >= priceAutoClicAmount3) {
    				money -= priceAutoClicAmount3;
    				autoClicker[2].amount += 50;
    				priceAutoClicAmount3 *= 2;
    				document.getElementById("butAutoAmount3").innerHTML = "Auto-clicker Timer Rank.3 [" + priceAutoClicAmount3 + "]";
    			}
    			else
    				console.log("Croustipute !");
    			break;
    	}
        document.getElementById("money").innerHTML = money;

    }

    function resetAutoClicker(choice) {
    	switch (choice) {
    		case 0:
    			clearInterval(chronoAuto1);
    			var chronoAuto1 = (setInterval("autoClicking(autoClicker[0])", autoClicker[0].timer));
    			break;
    		case 1:
    			clearInterval(chronoAuto2);
    			var chronoAuto2 = (setInterval("autoClicking(autoClicker[1])", autoClicker[1].timer));
    			break;
    		case 2:
    			clearInterval(chronoAuto3);
    			var chronoAuto3 = (setInterval("autoClicking(autoClicker[2])", autoClicker[2].timer));
    			break;
    	}
    }

    var autoClicker = [
        {
            rank: 1,
            amount: 0,
            timer: 1000
        },
        {
            rank: 2,
            amount: 0,
            timer: 5000
        },
        {
            rank: 3,
            amount: 0,
            timer: 10000
        }
    ];

    var buyingDic = [
        {
            id: 0,
            lvl: 0,
            cost: 5
        },
        {
            id: 1,
            lvl: 0,
            cost: 10
        },
        {
            id: 2,
            lvl: 0,
            cost: 20
        },
        {
            id: 3,
            lvl: 0,
            cost: 40
        },
        {
            id: 4,
            lvl: 0,
            cost: 50
        },
    ];

    function autoClicking(autoInfo) {
        score += autoInfo.amount;
        money += autoInfo.amount;
        document.getElementById("money").innerHTML = money;
    }

    function Begin(){
        checkname = document.getElementById("myName").value;
        if (checkname != ""){
            document.getElementById("tama").setAttribute("onclick", "clickImg()");
            document.getElementById("check").innerHTML = "...";
            var chronoAuto1 = (setInterval("autoClicking(autoClicker[0])", autoClicker[0].timer));
   			var chronoAuto2 = (setInterval("autoClicking(autoClicker[1])", autoClicker[1].timer));
   			var chronoAuto3 = (setInterval("autoClicking(autoClicker[2])", autoClicker[2].timer));
            StartCount();
        }else{
            document.getElementById("check").innerHTML = "Enter Your Name";
        }
    }

    function clickImg(){
        click++;
        score += (add * mult * multipre);
        money += (add * mult * multipre);
        document.getElementById("money").innerHTML = money;
        if (click == 1){
            achievement(click)
        }
        if (click % 100 == 0){
            achievement(click);
        }
        if (score % 10000 == 0){
            prestige();
        }
    }
    //✗
//✓
    function startTime() {
        var today = new Date();
        var h = today.getHours();
        var m = today.getMinutes();
        var s = today.getSeconds();
        m = checkTime(m);
        s = checkTime(s);
        document.getElementById('txt').innerHTML =
            h + ":" + m + ":" + s;
        var t = setTimeout(startTime, 500);
    }
    function checkTime(i) {
        if (i < 10) {i = "0" + i};  // add zero in front of numbers < 10
        return i;
    }
    //✗
//✓
    function achievement(click){
        switch (click) {
            case 1:
                achiev.push("First click");
                break;
            case 100:
                achiev.push("Hundred clicks");
                break;
            case 500:
                achiev.push("Half of Thousand");
                break;
            case 1000:
                achiev.push("It's just the beginning");
                break;
            case 2000:
                achiev.push("More ?");
                break;
            case 5000:
                achiev.push("Need a challenge ?");
                break;
            case 6000:
                achiev.push("You can never reach 10000");
                break;
            case 10000:
                achiev.push("First Prestige !");
                break;
            case 50000:
                achiev.push("Points is nothing, you know ?");
                break;
            case 100000:
                achiev.push("Prestige Level 10 !");
                break;
            case 500000:
                achiev.push("On the way to the First Million");
                break;
            case 1000000:
                achiev.push("BUY YOURSELF A LIFE");
                break;
            case 10000000:
                achiev.push("REALLY ?!");
                break;
            case 100000000:
                achiev.push("READY FOR the billion ?");
                break;
            case 500000000:
                achiev.push("On the road !!");
                break;
            case 1000000000:
                achiev.push("STILL ALIVE ?");
                break;
            default:
                break;
        }
    }

    function prestige(){
        pre += 1;
        pres = "Prestige Level "+ pre;
        document.getElementById("prestige").innerHTML = pres;
        ++multipre;
    }




    var minutesLabel = document.getElementById("minutes");
    var secondsLabel = document.getElementById("seconds");
    var totalSeconds = 0;

    function StartCount(){
        setInterval(setTime, 1000);
    }

    function setTime(){
        ++totalSeconds;
        secondsLabel.innerHTML = pad(totalSeconds%60);
        minutesLabel.innerHTML = pad(parseInt(totalSeconds/60));
    }

    function pad(val){
        var valString = val + "";
        if (valString.length < 2){
            return "0" + valString;
        }else {
            return valString;
        }
    }

    function startTime(){
        var today = new Date();
        var h = today.getHours();
        var m = today.getMinutes();
        var s = today.getSeconds();
        m = checkTime(m);
        s = checkTime(s);
        document.getElementById('txt').innerHTML =
            h + ":" + m + ":" + s;
        var t = setTimeout(startTime, 500);
    }
    function checkTime(i) {
        if (i < 10) {
            i = "0" + i
        }
        return i;
    }
</script>
</html>