<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="javascript.css">
    <title>TD_II</title>
</head>
<body>
<form onsubmit="return false">
    <div class="all">
        <div>
            <p>Input : <input type="text" name="name" size="25" id="myText"></p>
        </div>
        <div>
            <input type="submit" name="Envoyer" value="Envoyer" onclick="FindNumber()">
            <input type="submit" name="Recommencer" value="Recommencer" onclick="Re()">
        </div>
        <div>
            <p id="demo"></p>
            <p id="rend"></p>
        </div>
        <div class="marge"></div>
    </div>
    <div>
        <table>
            <thead>
            <tr>
                <th colspan="3"><span></span><span></span>score<span></span><span></span></th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td><span></span>Essaie<span></span></td>
                <td><span></span>Valeur<span></span></td>
            </tr>
            <tr>
                <td id="tab1.2"></td>
                <td id="tab1.3"></td>
            </tr>
            <tr>
                <td id="tab2.2"></td>
                <td id="tab2.3"></td>
            </tr>
            <tr>
                <td id="tab3.2"></td>
                <td id="tab3.3"></td>
            </tr>
            <tr>
                <td id="tab4.2"></td>
                <td id="tab4.3"></td>
            </tr>
            <tr>
                <td id="tab5.2"></td>
                <td id="tab5.3"></td>
            </tr>
            </tbody>
        </table>
    </div>
</form>
<footer>
    <div>
        <p>TD_II > Nombre Aléatoire by Jimmy L., Anthony B., Clément N., Axel P.</p>
    </div>
</footer>
</body>
<script>
    var randNbr = Math.round(Math.random() * 101);
    var table = [];
    var turn = 1;

    function randreset(){
        randNbr = Math.round(Math.random() * 101);
        turn = 1;
    }

    function FindNumber(){
        var x = document.getElementById("myText").value;
        document.getElementById("rend").innerHTML = randNbr;
        if (x < 0 || x > 100) {
            document.getElementById("demo").innerHTML = "Enter a number between 0 and 100";
        }
        else if (randNbr < x) {
            document.getElementById("demo").innerHTML = "C'est plus petit";
            turn++;
        }
        else if (randNbr > x) {
            document.getElementById("demo").innerHTML = "C'est plus grand";
            turn++;
        }
        else if (randNbr == x) {
            document.getElementById("demo").innerHTML = "Gagné";
            table.push({
                essaie: turn,
                valeur: randNbr
            });
            if (table.length >= 6){
                table.shift();
            }
            addTable();
            randreset();
        }
    }

    function Re(){
        document.getElementById("demo").innerHTML = "Perdu !";
        table.push({
            essaie: '-1',
            valeur: randNbr
        });
        if (table.length >= 6){
            table.shift();
        }
        addTable();
        randreset();
    }

    function addTable(){
        document.getElementById("tab1.2").innerHTML = table[0].essaie;
        document.getElementById("tab1.3").innerHTML = table[0].valeur;
        document.getElementById("tab2.2").innerHTML = table[1].essaie;
        document.getElementById("tab2.3").innerHTML = table[1].valeur;
        document.getElementById("tab3.2").innerHTML = table[2].essaie;
        document.getElementById("tab3.3").innerHTML = table[2].valeur;
        document.getElementById("tab4.2").innerHTML = table[3].essaie;
        document.getElementById("tab4.3").innerHTML = table[3].valeur;
        document.getElementById("tab5.2").innerHTML = table[4].essaie;
        document.getElementById("tab5.3").innerHTML = table[4].valeur;
    }
</script>
</html>